{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useParams}from'react-router-dom';import ReactPlayer from'react-player';import{Typography,Box,Stack}from'@mui/material';import{CheckCircle}from'@mui/icons-material';import Videos from'./Videos';import{FetchFromApi}from'../utils/FetchFromApi';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VideoDetails=()=>{const{id}=useParams();const[videoDetails,setVideoDetails]=useState(null);const[videos,setVideos]=useState(null);const[shouldRenderVideos,setShouldRenderVideos]=useState(false);useEffect(()=>{FetchFromApi(\"videos?part=snippet,statistics&id=\".concat(id)).then(data=>setVideoDetails(data.items[0]));FetchFromApi(\"search?part=snippet&relatedToVideoId=\".concat(id)).then(data=>setVideos(data.items));},[id]);useEffect(()=>{const timer=setTimeout(()=>{setShouldRenderVideos(true);},3000);// 1 second delay\nreturn()=>clearTimeout(timer);// Cleanup the timer on component unmount\n},[videos]);if(!(videoDetails!==null&&videoDetails!==void 0&&videoDetails.snippet))return\"Loading...\";return/*#__PURE__*/_jsx(Box,{minHeight:\"95vh\",children:/*#__PURE__*/_jsxs(Stack,{direction:{xs:\"column\",md:\"row\"},children:[/*#__PURE__*/_jsx(Box,{flex:1,children:/*#__PURE__*/_jsxs(Box,{sx:{width:'100%',position:'sticky',top:\"86px\"},children:[/*#__PURE__*/_jsx(ReactPlayer,{controls:true,url:\"https://www.youtube.com/watch?v=\".concat(id),className:\"react-player\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"#fff\",fontWeight:\"bold\",p:\"2\",children:videoDetails.snippet.title}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",justifyContent:\"space-between\",sx:{color:\"#fff\"},py:1,px:2,children:[/*#__PURE__*/_jsx(Link,{to:\"/channel/\".concat(videoDetails.snippet.channelId),children:/*#__PURE__*/_jsxs(Typography,{variant:{sm:\"subtitle1\",md:\"h6\"},color:\"#fff\",children:[videoDetails.snippet.channelTitle,/*#__PURE__*/_jsx(CheckCircle,{sx:{fontSize:\"12px\",color:\"gray\",ml:\"5px\"}})]})}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",gap:\"20px\",alignItems:\"center\",children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",sx:{opacity:0.7},children:[parseInt(videoDetails.statistics.viewCount).toLocaleString(),\" views\"]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",sx:{opacity:0.7},children:[parseInt(videoDetails.statistics.likeCount).toLocaleString(),\" likes\"]})]})]})]})}),/*#__PURE__*/_jsx(Box,{px:2,py:{md:1,xs:5},justifyContent:\"center\",alignItems:\"center\",children:shouldRenderVideos?/*#__PURE__*/_jsx(Videos,{videos:videos,direction:\"column\"}):/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\",color:\"#fff\",fontWeight:\"bold\"},children:\"Loading videos...\"})})]})});};export default VideoDetails;","map":{"version":3,"names":["React","useState","useEffect","Link","useParams","ReactPlayer","Typography","Box","Stack","CheckCircle","Videos","FetchFromApi","jsx","_jsx","jsxs","_jsxs","VideoDetails","id","videoDetails","setVideoDetails","videos","setVideos","shouldRenderVideos","setShouldRenderVideos","concat","then","data","items","timer","setTimeout","clearTimeout","snippet","minHeight","children","direction","xs","md","flex","sx","width","position","top","controls","url","className","variant","color","fontWeight","p","title","justifyContent","py","px","to","channelId","sm","channelTitle","fontSize","ml","gap","alignItems","opacity","parseInt","statistics","viewCount","toLocaleString","likeCount","style","textAlign"],"sources":["C:/Users/Admin/Desktop/yt/youtube/src/components/VideoDetails.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport ReactPlayer from 'react-player';\r\nimport { Typography, Box, Stack } from '@mui/material';\r\nimport { CheckCircle } from '@mui/icons-material';\r\nimport Videos from './Videos';\r\nimport { FetchFromApi } from '../utils/FetchFromApi';\r\n\r\nconst VideoDetails = () => {\r\n  const { id } = useParams();\r\n  const [videoDetails, setVideoDetails] = useState(null);\r\n  const [videos, setVideos] = useState(null);\r\n  const [shouldRenderVideos, setShouldRenderVideos] = useState(false);\r\n\r\n  useEffect(() => {\r\n    FetchFromApi(`videos?part=snippet,statistics&id=${id}`)\r\n      .then((data) => setVideoDetails(data.items[0]));\r\n      \r\n    FetchFromApi(`search?part=snippet&relatedToVideoId=${id}`)\r\n      .then((data) => setVideos(data.items));\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setShouldRenderVideos(true);\r\n    }, 3000); // 1 second delay\r\n\r\n    return () => clearTimeout(timer); // Cleanup the timer on component unmount\r\n  }, [videos]);\r\n\r\n  if (!videoDetails?.snippet) return \"Loading...\";\r\n\r\n  return (\r\n    <Box minHeight=\"95vh\">\r\n      <Stack direction={{ xs: \"column\", md: \"row\" }}>\r\n        <Box flex={1}>\r\n          <Box sx={{ width: '100%', position: 'sticky', top: \"86px\" }}>\r\n            <ReactPlayer controls url={`https://www.youtube.com/watch?v=${id}`} className=\"react-player\" />\r\n            <Typography variant='h4' color='#fff' fontWeight=\"bold\" p=\"2\">\r\n              {videoDetails.snippet.title}\r\n            </Typography>\r\n            <Stack direction=\"row\" justifyContent=\"space-between\" sx={{ color: \"#fff\" }} py={1} px={2}>\r\n              <Link to={`/channel/${videoDetails.snippet.channelId}`}>\r\n                <Typography variant={{ sm: \"subtitle1\", md: \"h6\" }} color=\"#fff\">\r\n                  {videoDetails.snippet.channelTitle}\r\n                  <CheckCircle sx={{ fontSize: \"12px\", color: \"gray\", ml: \"5px\" }} />\r\n                </Typography>\r\n              </Link>\r\n              <Stack direction=\"row\" gap=\"20px\" alignItems=\"center\">\r\n                <Typography variant='body1' sx={{ opacity: 0.7 }}>\r\n                  {parseInt(videoDetails.statistics.viewCount).toLocaleString()} views\r\n                </Typography>\r\n                <Typography variant='body1' sx={{ opacity: 0.7 }}>\r\n                  {parseInt(videoDetails.statistics.likeCount).toLocaleString()} likes\r\n                </Typography>\r\n              </Stack>\r\n            </Stack>\r\n          </Box>\r\n        </Box>\r\n        <Box px={2} py={{ md: 1, xs: 5 }} justifyContent=\"center\" alignItems=\"center\">\r\n        {shouldRenderVideos ? <Videos videos={videos} direction=\"column\" /> : <p style={{textAlign: \"center\", color: \"#fff\", fontWeight: \"bold\"}}>Loading videos...</p>}\r\n      </Box>\r\n      </Stack>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default VideoDetails;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}