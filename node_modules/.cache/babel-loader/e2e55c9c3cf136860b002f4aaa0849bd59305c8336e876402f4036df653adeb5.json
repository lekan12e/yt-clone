{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Box}from'@mui/material';import{useParams}from'react-router-dom';import Videos from'./Videos';import ChannelCard from'./ChannelCard';import{FetchFromApi}from\"../utils/FetchFromApi\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChannelDetails=()=>{const[channelDetail,setChannelDetail]=useState();const[videos,setVideos]=useState(null);const[shouldRenderVideos,setShouldRenderVideos]=useState(false);const{id}=useParams();useEffect(()=>{FetchFromApi(\"channels?part=snippet&id=\".concat(id)).then(data=>setChannelDetail(data===null||data===void 0?void 0:data.items[0]));FetchFromApi(\"search?channelId=\".concat(id,\"&part=snippet&order=date\")).then(data=>setVideos(data===null||data===void 0?void 0:data.items));},[id]);useEffect(()=>{const timer=setTimeout(()=>{setShouldRenderVideos(true);},5000);// 1 second delay\nreturn()=>clearTimeout(timer);// Cleanup the timer on component unmount\n},[videos]);return/*#__PURE__*/_jsxs(Box,{minHeight:\"95vh\",children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(\"div\",{style:{background:\"linear-gradient(90deg, rgba(17,5,213,1) 0%, rgba(191,22,50,1) 55%, rgba(0,212,255,1) 100%)\",height:\"300px\",zIndex:10}}),/*#__PURE__*/_jsx(ChannelCard,{channelDetail:channelDetail,marginTop:\"-120px\"})]}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",p:\"20px\",sx:{flexDirection:{sm:\"row\"}},children:[/*#__PURE__*/_jsx(Box,{sx:{mr:{sm:'100px'}}}),shouldRenderVideos?/*#__PURE__*/_jsx(Videos,{videos:videos}):/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\",color:\"#fff\",fontWeight:\"bold\"},children:\"Loading videos...\"})]})]});};export default ChannelDetails;","map":{"version":3,"names":["React","useState","useEffect","Box","useParams","Videos","ChannelCard","FetchFromApi","jsx","_jsx","jsxs","_jsxs","ChannelDetails","channelDetail","setChannelDetail","videos","setVideos","shouldRenderVideos","setShouldRenderVideos","id","concat","then","data","items","timer","setTimeout","clearTimeout","minHeight","children","style","background","height","zIndex","marginTop","display","p","sx","flexDirection","sm","mr","textAlign","color","fontWeight"],"sources":["C:/Users/Admin/Desktop/yt/youtube/src/components/ChannelDetails.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Box } from '@mui/material';\r\nimport { useParams } from 'react-router-dom';\r\nimport Videos from './Videos';\r\nimport ChannelCard from './ChannelCard';\r\nimport { FetchFromApi } from \"../utils/FetchFromApi\";\r\n\r\nconst ChannelDetails = () => {\r\n  const [channelDetail, setChannelDetail] = useState();\r\n  const [videos, setVideos] = useState(null);\r\n  const [shouldRenderVideos, setShouldRenderVideos] = useState(false);\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    FetchFromApi(`channels?part=snippet&id=${id}`)\r\n      .then((data) => setChannelDetail(data?.items[0]));\r\n      \r\n    FetchFromApi(`search?channelId=${id}&part=snippet&order=date`)\r\n      .then((data) => setVideos(data?.items));\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setShouldRenderVideos(true);\r\n    }, 5000); // 1 second delay\r\n\r\n    return () => clearTimeout(timer); // Cleanup the timer on component unmount\r\n  }, [videos]);\r\n\r\n  return (\r\n    <Box minHeight=\"95vh\">\r\n      <Box>\r\n        <div style={{\r\n          background: \"linear-gradient(90deg, rgba(17,5,213,1) 0%, rgba(191,22,50,1) 55%, rgba(0,212,255,1) 100%)\",\r\n          height: \"300px\",\r\n          zIndex: 10\r\n        }}>\r\n        </div>\r\n        <ChannelCard channelDetail={channelDetail} marginTop='-120px' />\r\n      </Box>\r\n      <Box display='flex' p=\"20px\" sx={{flexDirection:{sm:\"row\"}}}>\r\n        <Box sx={{ mr: { sm: '100px' } }} />\r\n        {shouldRenderVideos ? <Videos videos={videos} /> : <p style={{textAlign: \"center\", color: \"#fff\", fontWeight: \"bold\"}}>Loading videos...</p>}\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default ChannelDetails;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,GAAG,KAAQ,eAAe,CACnC,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,OAASC,YAAY,KAAQ,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErD,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGb,QAAQ,CAAC,CAAC,CACpD,KAAM,CAACc,MAAM,CAAEC,SAAS,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAC1C,KAAM,CAACgB,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CACnE,KAAM,CAAEkB,EAAG,CAAC,CAAGf,SAAS,CAAC,CAAC,CAE1BF,SAAS,CAAC,IAAM,CACdK,YAAY,6BAAAa,MAAA,CAA6BD,EAAE,CAAE,CAAC,CAC3CE,IAAI,CAAEC,IAAI,EAAKR,gBAAgB,CAACQ,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAEnDhB,YAAY,qBAAAa,MAAA,CAAqBD,EAAE,4BAA0B,CAAC,CAC3DE,IAAI,CAAEC,IAAI,EAAKN,SAAS,CAACM,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEC,KAAK,CAAC,CAAC,CAC3C,CAAC,CAAE,CAACJ,EAAE,CAAC,CAAC,CAERjB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAsB,KAAK,CAAGC,UAAU,CAAC,IAAM,CAC7BP,qBAAqB,CAAC,IAAI,CAAC,CAC7B,CAAC,CAAE,IAAI,CAAC,CAAE;AAEV,MAAO,IAAMQ,YAAY,CAACF,KAAK,CAAC,CAAE;AACpC,CAAC,CAAE,CAACT,MAAM,CAAC,CAAC,CAEZ,mBACEJ,KAAA,CAACR,GAAG,EAACwB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBjB,KAAA,CAACR,GAAG,EAAAyB,QAAA,eACFnB,IAAA,QAAKoB,KAAK,CAAE,CACVC,UAAU,CAAE,4FAA4F,CACxGC,MAAM,CAAE,OAAO,CACfC,MAAM,CAAE,EACV,CAAE,CACG,CAAC,cACNvB,IAAA,CAACH,WAAW,EAACO,aAAa,CAAEA,aAAc,CAACoB,SAAS,CAAC,QAAQ,CAAE,CAAC,EAC7D,CAAC,cACNtB,KAAA,CAACR,GAAG,EAAC+B,OAAO,CAAC,MAAM,CAACC,CAAC,CAAC,MAAM,CAACC,EAAE,CAAE,CAACC,aAAa,CAAC,CAACC,EAAE,CAAC,KAAK,CAAC,CAAE,CAAAV,QAAA,eAC1DnB,IAAA,CAACN,GAAG,EAACiC,EAAE,CAAE,CAAEG,EAAE,CAAE,CAAED,EAAE,CAAE,OAAQ,CAAE,CAAE,CAAE,CAAC,CACnCrB,kBAAkB,cAAGR,IAAA,CAACJ,MAAM,EAACU,MAAM,CAAEA,MAAO,CAAE,CAAC,cAAGN,IAAA,MAAGoB,KAAK,CAAE,CAACW,SAAS,CAAE,QAAQ,CAAEC,KAAK,CAAE,MAAM,CAAEC,UAAU,CAAE,MAAM,CAAE,CAAAd,QAAA,CAAC,mBAAiB,CAAG,CAAC,EACzI,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhB,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}